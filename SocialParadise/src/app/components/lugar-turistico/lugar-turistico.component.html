<section>
    <div class="feature-component">
        <div class="container">
            <div class="row feature">
                <div class="col-md-5">
                    <h2 class="feature-heading">{{lugar.nombre}}</h2>
                    <h3 class="feature-subheading">Seguidores <span><strong>{{lugar.seguidores? lugar.seguidores.length : 0}}</strong></span></h3>
                    <p class="feature-description">{{lugar.descripcion}}</p>
                </div>
                <div class="col-md-7">
                    <app-carousel [tipoElemento]="'lugar'"></app-carousel>
                </div>
            </div>
        </div>
    </div>
    <div class="feature-component back-gray">
        <div class="container">
            <div class="row feature text-center">
                <div class="col-md-12 order-md-2">
                    <iframe [src]="lugar.video | urlSegura" frameborder="0" allowfullscreen></iframe>
                </div>
            </div>
        </div>
    </div>
    <div class="feature-component">
        <div class="container">
            <div class="row feature">
                <div class="col-md-7 mb-3">
                    <h2 class="feature-heading">Reseñas</h2>
                    <div class="row">
                        <h3 class="col-md-12">Valoración general </h3>
                        <div class="row rating col-md-12">
                            <ngb-rating class="col-12 order-1 order-lg-2" [rate]="valoracionGeneral">
                                <ng-template let-fill="fill" let-index="index">
                                    <span class="star" [class.filled]="fill === 100" [class.bad]="4 <= 3">&#9733;</span>
                                </ng-template>
                            </ngb-rating>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <app-comentario class="col-12"></app-comentario>
                    <div class="col-12 mt-4">
                        <h3 class="section-title">Comentarios</h3>
                    </div>
                    <div class="col-12">
                        <div class="following">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item" *ngFor="let resena of resenas">
                                    <div class="row component-review">
                                        <div class="col-12 col-lg-3">
                                            <div class="row rating">
                                                <div class="col-8 col-sm-9">
                                                    <img [src]="getAtributoUsuario(resena.usuario.toString(), 'foto')" alt="" class="img-responsiv img-fluid img-circle" width="150" />
                                                </div>
                                                <ngb-rating class="col-12 order-1 order-lg-2" [rate]="resena.valoracion">
                                                    <ng-template let-fill="fill" let-index="index">
                                                        <span class="star" [class.filled]="fill === 100" [ngClass]="{'bad': 2 <= 3}">&#9733;</span>
                                                    </ng-template>
                                                </ngb-rating>
                                            </div>
                                            <span>{{resena.fechaPublicacion | date: "dd/MM/yyyy hh:mm a"}}</span>
                                        </div>
                                        <div class="col-12 col-lg-9">
                                            <h4>{{getAtributoUsuario(resena.usuario.toString(), 'nombre')}}</h4>
                                            <p>{{resena.comentario}}</p>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>